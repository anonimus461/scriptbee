<!DOCTYPE html>
<!-- saved from url=(0079)http://html-plus.in.ua/wp-content/uploads/js-examples/json/table-json-data.html -->
<html lang="ru" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="description" content="Получение данных из JSON-файла на html-plus.in.ua и оформление их в таблицу">
    <link rel="icon" href="http://html-plus.in.ua/wp-content/uploads/2018/10/cropped-favicon1-32x32.png" sizes="32x32">
    <link rel="icon" href="http://html-plus.in.ua/wp-content/uploads/2018/10/cropped-favicon1-192x192.png" sizes="192x192">
    <link rel="apple-touch-icon-precomposed" href="http://html-plus.in.ua/wp-content/uploads/2018/10/cropped-favicon1-180x180.png">
    <meta name="msapplication-TileImage" content="http://html-plus.in.ua/wp-content/uploads/2018/10/cropped-favicon1-270x270.png">
    <title>HTML + - получение данных из JSON-файла</title>
    <style>
        body {
            font-family: Verdana, Geneva, sans-serif;
            max-width: 1000px;
            margin: 10px auto;
        }
        #workers {
            border: 2px solid #2466b2;
            border-collapse: collapse;
            width: 100%;
            margin: 10px auto;
        }
        #workers tr {
            border-bottom: 1px solid #2466b2;
        }
        #workers tr:nth-child(even) {
            background: #c7e0fc;
        }
        #workers td,
        #workers th {
            padding: 6px;
        }
    </style>
<link type="text/css" rel="stylesheet" charset="UTF-8" href="./HTML + - получение данных из JSON-файла_files/translateelement.css"></head>

<body>
    <div id="info"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Компания: Арт-гостиная</font></font></h2>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Адрес: Киев, ул. </font><font style="vertical-align: inherit;">Жилянская, 20</font></font></p> 
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Дата основания: 20.05.2016</font></font></p></div>
    <table id="workers"><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ФИО</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Должность</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Эл. адрес</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Телефон</font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Приемные дни / часы</font></font></th></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Григорий Голобородько</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Директор</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">goloborodko1978@gmail.com</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">378-19-47</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пн., ср. </font><font style="vertical-align: inherit;">, Пт. </font><font style="vertical-align: inherit;">15-17-00</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Иван Мунич</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Зам. </font><font style="vertical-align: inherit;">директора</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">munich-i@ukr.net</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">378-19-48</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">пн., ср. </font><font style="vertical-align: inherit;">, пт.14-17-00</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ирина Белоголовко</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Главный бухгалтер</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">belogolovko.irina@bigmir.net</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">378-22-40</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вт., ср. </font><font style="vertical-align: inherit;">14-17-00</font></font></td></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Степан Ефремов</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aрт-директор</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">efrem.st@yahoo.com</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">378-12-32</font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">вт., ср. </font><font style="vertical-align: inherit;">10-13-00</font></font></td></tr></table>
    <script>
        var workersTable = document.getElementById('workers'),
            info = document.getElementById('info'),
            requestURL = 'data.json',
            request = new XMLHttpRequest();
        request.open('GET', requestURL);
         //request.responseType = 'json';
        request.onload = function(e) {
            if (request.readyState === 4) {
                if (request.status === 200) {
                    console.log(request.response);
                    var dataTable = JSON.parse(request.responseText);
                    getTableInfo(dataTable);
                } else {
                    console.error(request.statusText);
                }
            }
        };
        request.onerror = function(e) {
            console.error(request.statusText);
        };
        request.send();
         //        request.send(null);

        function getTableInfo(data) {
            info.innerHTML = `<h2>Компания: ${data.companyName}</h2>
<p>Адрес: ${data.city}, ${data.address}</p> 
<p>Дата основания: ${data.birthday}</p>`;
            //    console.log(data.workers instanceof Array)
            //    console.log(Array.isArray(data.workers))
            let headerTr = document.createElement('tr');
            headerTr.innerHTML = '<th>ФИО</th><th>Должность</th><th>Email</th><th>Телефон</th><th>Приемные дни/часы</th>';
            workersTable.appendChild(headerTr);
            data.workers.forEach(function(elem) {
                let tr = document.createElement('tr');
                tr.innerHTML = `<td>${elem.name}</td><td>${elem.position}</td><td>${elem.email}</td><td>${elem.phone}</td><td>${elem.active}</td>`;
                workers.appendChild(tr);
            });
        }
        /*request.onload = function() {
            var dataTable = request.response;
            console.log(request, request.response);
            //populateHeader(superHeroes);
            //showHeroes(superHeroes);
        }*/
    </script><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./HTML + - получение данных из JSON-файла_files/translate_24dp.png" width="20" height="20" alt="Google Переводчик"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">Исходный текст</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">Предложить лучший вариант перевода</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div>


<div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>